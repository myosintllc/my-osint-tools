// ==UserScript==
// @name         My OSINT Training
// @namespace    http://tampermonkey.net/
// @version      1.0.43
// @description  Tamper before bookmarklets
// @match        *://*/*
// @grant        GM_registerMenuCommand
// @grant        GM_openInTab
// @grant        unsafeWindow
// @noframes
// ==/UserScript==

const TM_bandlab = (function(){const url=window.location.href;const username=url.split('/').pop();if(!username){alert('Invalid BandLab profile URL.');return}fetch(`https://www.bandlab.com/api/v1.3/users/${username}`).then(response=>{if(!response.ok){throw new Error('Network response was not ok')}return response.json()}).then(data=>{const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='BandLab User Information';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${username}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.name}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.id}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Created On: <strong style="color:#FFF;font-family:Courier New,monospace;">${new Date(data.createdOn).toISOString()}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Modified On: <strong style="color:#FFF;font-family:Courier New,monospace;">${new Date(data.modifiedOn).toISOString()}</strong></div>`;if(data.links&&Object.keys(data.links).length>0){html+='<div style="margin-top:15px;padding:15px;background:#022447;border-radius:8px;"><div style="font-weight:700;color:#00E6F0;margin-bottom:10px;font-size:14px;">Links</div>';for(const[key,value]of Object.entries(data.links)){const linkName=key.charAt(0).toUpperCase()+key.slice(1);html+=`<div style="padding:5px 0;color:#CCC;">${linkName}: <a href="${value}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${value}</a></div>`}html+='</div>'}content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nBandLab User Information\n\n';displayText+=`Username: ${username}\n`;displayText+=`Display Name: ${data.name}\n`;displayText+=`ID: ${data.id}\n`;displayText+=`Created On: ${new Date(data.createdOn).toISOString()}\n`;displayText+=`Modified On: ${new Date(data.modifiedOn).toISOString()}\n`;if(data.links&&Object.keys(data.links).length>0){displayText+='\nLinks:\n';for(const[key,value]of Object.entries(data.links)){const linkName=key.charAt(0).toUpperCase()+key.slice(1);displayText+=`  ${linkName}: ${value}\n`}}navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonStr=JSON.stringify(data,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}).catch(error=>{console.error('Error fetching user data:',error);alert('Failed to fetch user data. Please try again later.')})});

const TM_blueskyIDlookup = (function(){try{var userId=prompt('Enter the Bsky User ID:');if(userId&&userId.trim()!==''){var url='https://bsky.app/profile/did:plc:'+userId.trim();window.open(url,'_blank');}else{alert('No User ID provided!');}}catch(e){alert('Error processing request: '+e.message);}});

const TM_blueskyIDreveal = (async function(){try{let response=await fetch(location.href);let html=await response.text();var idRegex=/did:plc:([a-zA-Z0-9]+)/g;var idMatch=idRegex.exec(html);var displayNameRegex=/bsky_display_name.>([^<]+)<\/p>/;var handleRegex=/bsky_handle.>([^<]+)<\/p>/;var displayNameMatch=html.match(displayNameRegex);var handleMatch=html.match(handleRegex);var userId=idMatch&&idMatch[1]?idMatch[1]:'Not Found';var displayName=displayNameMatch&&displayNameMatch[1]?displayNameMatch[1]:'Not Found';var handle=handleMatch&&handleMatch[1]?handleMatch[1]:'Not Found';var modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Bluesky Profile';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let htmlContent='';htmlContent+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">User ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${userId}</strong></div>`;htmlContent+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${displayName}</strong></div>`;htmlContent+=`<div style="padding:8px 0;color:#CCC;">Handle: <strong style="color:#FFF;font-family:Courier New,monospace;">${handle}</strong></div>`;content.innerHTML=htmlContent;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nBluesky Profile\n\n';displayText+=`User ID: ${userId}\n`;displayText+=`Display Name: ${displayName}\n`;displayText+=`Handle: ${handle}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={userId:userId,displayName:displayName,handle:handle};const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}catch(e){alert('Error processing request: '+e.message)}});

const TM_cashapp = (function(){try{const XTA='window.crypto.subtle.importKey.sign';async function hmacSHA256(key,message){const encoder=new TextEncoder();const keyData=encoder.encode(key);const messageData=encoder.encode(message);const cryptoKey=await crypto.subtle.importKey('raw',keyData,{name:'HMAC',hash:'SHA-256'},false,['sign']);const signature=await crypto.subtle.sign('HMAC',cryptoKey,messageData);const hashArray=Array.from(new Uint8Array(signature));return hashArray.map(b=>b.toString(16).padStart(2,'0')).join('')}function findProfile(){const scripts=document.querySelectorAll('script');for(const script of scripts){const text=script.textContent||'';if(text.includes('"formatted_cashtag"')&&text.includes('"display_name"')){try{const match=text.match(/{"formatted_cashtag"[^}]+}/);if(match)return JSON.parse(match[0]);const match2=text.match(/"avatar":{"image_url":"([^"]+)"/);const match3=text.match(/"formatted_cashtag":"([^"]+)"/);const match4=text.match(/"display_name":"([^"]+)"/);const match5=text.match(/"is_verified_account":(true|false)/);const match6=text.match(/"rate_plan":"([^"]+)"/);const match7=text.match(/"country_code":"([^"]+)"/);if(match3||match4)return{formatted_cashtag:match3?match3[1]:'',display_name:match4?match4[1]:'',is_verified_account:match5?match5[1]==='true':false,rate_plan:match6?match6[1]:'',country_code:match7?match7[1]:'',avatar:match2?{image_url:match2[1]}:null}}catch(e){console.error('Parse error:',e)}}}return null}(async function(){const profile=findProfile();if(!profile){alert('‚ùå Could not find Cash App profile data on this page.\n\nMake sure you are on a Cash App profile page.');return}const imgUrl=(profile.avatar&&profile.avatar.image_url)||'';const data={};if(profile.formatted_cashtag)data.cashtag=profile.formatted_cashtag;if(profile.display_name)data.name=profile.display_name;if(profile.is_verified_account!==undefined)data.verified=profile.is_verified_account?'1':'0';if(profile.rate_plan)data.plan=profile.rate_plan;if(profile.country_code)data.country=profile.country_code;if(imgUrl)data.image=imgUrl;const jsonData=JSON.stringify(data);const encodedData=btoa(jsonData);const signature=await hmacSHA256(XTA,jsonData);const githubUrl='https://tools.myosint.training/cashapp-viewer.html?'+'data='+encodeURIComponent(encodedData)+'&sig='+signature;window.open(githubUrl,'_blank')})()}catch(e){alert('Bookmarklet error: '+e.message);console.error('Bookmarklet error:',e)}});

const TM_facebookID = (function(){const findProfileInfo=()=>{const e=document.documentElement.outerHTML.match(/"userID":"(\d+)"/),o=e?e[1]:"Not present in page",t=document.documentElement.innerHTML.match(/__isProfile":"User","name":"([^"]+)"/);return{profileId:o,displayName:t?t[1]:"Not present in page"}},profileInfo=findProfileInfo();if(profileInfo){const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Facebook Profile Information';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${profileInfo.displayName}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Facebook ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${profileInfo.profileId}</strong></div>`;html+=`<div style="padding:8px 0;color:#CCC;">Current URL: <a href="${document.URL}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${document.URL}</a></div>`;content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nFacebook Profile Information\n\n';displayText+=`Display Name: ${profileInfo.displayName}\n`;displayText+=`Facebook ID: ${profileInfo.profileId}\n`;displayText+=`Current URL: ${document.URL}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={displayName:profileInfo.displayName,facebookId:profileInfo.profileId,currentUrl:document.URL};const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}else alert("Profile ID, display name, or username not found!")});

const TM_facebookMarket = (function(){try{const regex=/userID":"(\d+)"/;const match=document.documentElement.outerHTML.match(regex);if(match&&match[1]){const profileId=match[1];const url=`https://www.facebook.com/marketplace/?seller_profile=${profileId}`;window.open(url,'_blank')}else{alert('Facebook ID not found!')}}catch(e){alert('Error processing request: '+e.message)}});

const TM_facebookProfileImage = (function(){try{const findProfilePicLargeUri=obj=>{if(obj&&typeof obj==='object'){for(const key in obj){if(key==='profilePicLarge'&&obj[key].uri){return obj[key].uri}const result=findProfilePicLargeUri(obj[key]);if(result)return result}}return null};const scripts=document.querySelectorAll('script');let profilePicUrl=null;scripts.forEach(script=>{const content=script.textContent;try{const jsonStart=content.indexOf('{');const jsonEnd=content.lastIndexOf('}')+1;if(jsonStart!==-1&&jsonEnd!==-1){const json=JSON.parse(content.substring(jsonStart,jsonEnd));const result=findProfilePicLargeUri(json);if(result)profilePicUrl=result}}catch(e){return}});if(profilePicUrl){const decodedUrl=profilePicUrl.replace(/\\\\u0026/g,'&');window.open(decodedUrl,'_blank')}else{alert('Profile picture URL not found!')}}catch(e){alert('Error processing request: '+e.message)}});

const TM_facebookSearch = (function(){try{function findUserId(){var userIdRegex=/"userID":"(\d+)"/;var userIdMatch=document.documentElement.outerHTML.match(userIdRegex);return userIdMatch?userIdMatch[1]:null}function findUserName(){var nameRegex=/"name":"([^"]+)","__isEntity":"User"/;var nameMatch=document.documentElement.outerHTML.match(nameRegex);return nameMatch?nameMatch[1]:null}var userId=findUserId();var userName=findUserName();if(userId&&userName){var searchTerm=prompt(`Search for content about userID: ${userId} (${userName})\n\nEnter a Search term:`);if(searchTerm!==null&&searchTerm.trim()!==''){var encodedSearchTerm=encodeURIComponent(searchTerm.trim());var searchUrl=`https://facebook.com/profile/${userId}/search/?q=${encodedSearchTerm}`;window.open(searchUrl,'_blank')}else{alert('No search term provided.')}}else{alert('Facebook ID or name not found!')}}catch(e){alert(`Error processing request: ${e.message}`)}});

const TM_instagramPhotoDisplay = (function(){var url=window.location.href;if(location.href.match(/instagram.com.*\/p\//)){let newUrl=`${document.location.origin}/p/${document.location.pathname.split('/p/').at(-1)}media?size=l`;window.open(newUrl,'_blank')}else{alert('This is not an Instagram post URL.')}});

const TM_instagramUserID = (function(){var url=window.location.href;let userStr=document.querySelector('meta[name="description"]').getAttribute('content').match(/ - (.*?) on Instagram:/)[1];let[,displayName,username]=userStr.match(/(.*?) ?\(?@(.+?)\)?$/);let[,instagramId]=document.body.innerHTML.match(/profilePage_(.*?)"/);displayName=displayName||'Not Found';username=username||'Not Found';instagramId=instagramId||'Not Found';var modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Instagram User Profile Details';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${username}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${displayName}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Instagram ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${instagramId}</strong></div>`;html+=`<div style="padding:8px 0;color:#CCC;">Current URL: <a href="${url}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${url}</a></div>`;content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nInstagram User Profile Details\n\n';displayText+=`Username: ${username}\n`;displayText+=`Display Name: ${displayName}\n`;displayText+=`Instagram ID: ${instagramId}\n`;displayText+=`Current URL: ${url}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={username:username,displayName:displayName,instagramId:instagramId,currentUrl:url};const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)});

const TM_instagramSaveSingleImage = (function(){var newUrl=window.location.href+'media/?size=l';var newWindow=window.open();newWindow.document.write(`<html><head><title>Image Viewer</title><style>body{display:flex;justify-content:center;align-items:center;height:100vh;margin:0;background-color:#f0f0f0;}img{max-width:100%;max-height:100%;border:1px solid #ccc;box-shadow:0 4px 8px rgba(0,0,0,0.1);}.message{position:fixed;top:10px;left:50%;transform:translateX(-50%);background-color:white;border:1px solid black;padding:10px;z-index:10000;}</style></head><body><img src='${newUrl}' alt='Image' /><div class='message'>Right click on the image to save it</div></body></html>`);newWindow.document.close()});

const TM_pinterestUser = (function(){function findData(){const scripts=document.querySelectorAll('script');for(let script of scripts){const text=script.textContent;if(text.includes('initialReduxState')){try{const match=text.match(/"initialReduxState":({.+?}),"isAppShell"/);if(match){return JSON.parse(match[1])}}catch(e){continue}}}return null}function createModal(data){if(!data){alert('No Pinterest data found on this page.');return}const users=data.users?Object.values(data.users):[];const user=users.length>1?users[1]:users[0];if(!user){alert('No user data found.');return}const boards=data.boards?Object.values(data.boards):[];const boardData=boards.length>0?boards.map(board=>({name:board.name||'Untitled',board_order_modified_at:board.board_order_modified_at||'',created_at:board.created_at||''})).sort((a,b)=>{const dateA=new Date(a.board_order_modified_at);const dateB=new Date(b.board_order_modified_at);return dateB-dateA}):[];const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="#00E6F0" style="vertical-align:middle;margin-right:10px;"><path d="M12 0C5.373 0 0 5.373 0 12c0 5.084 3.163 9.426 7.627 11.174-.105-.949-.2-2.405.042-3.441.218-.937 1.407-5.965 1.407-5.965s-.359-.719-.359-1.782c0-1.668.967-2.914 2.171-2.914 1.023 0 1.518.769 1.518 1.69 0 1.029-.655 2.568-.994 3.995-.283 1.194.599 2.169 1.777 2.169 2.133 0 3.772-2.249 3.772-5.495 0-2.873-2.064-4.882-5.012-4.882-3.414 0-5.418 2.561-5.418 5.207 0 1.031.397 2.138.893 2.738.098.119.112.224.083.345l-.333 1.36c-.053.22-.174.267-.402.161-1.499-.698-2.436-2.889-2.436-4.649 0-3.785 2.75-7.262 7.929-7.262 4.163 0 7.398 2.967 7.398 6.931 0 4.136-2.607 7.464-6.227 7.464-1.216 0-2.359-.631-2.75-1.378l-.748 2.853c-.271 1.043-1.002 2.35-1.492 3.146C9.57 23.812 10.763 24 12 24c6.627 0 12-5.373 12-12 0-6.628-5.373-12-12-12z"/></svg>Pinterest User Data';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+='<div style="margin:15px 0;padding:15px;background:#022447;border-radius:8px;"><div style="font-weight:700;color:#00E6F0;margin-bottom:15px;font-size:16px;">üë§ User Information</div>';if(user.username){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${user.username}</strong></div>`}if(user.full_name){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Full Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${user.full_name}</strong></div>`}if(user.id){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">User ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${user.id}</strong></div>`}if(user.created_at){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Account Created: <strong style="color:#FFF;font-family:Courier New,monospace;">${user.created_at}</strong></div>`}if(user.last_pin_save_time){html+=`<div style="padding:8px 0;color:#CCC;">Last Pin Save: <strong style="color:#FFF;font-family:Courier New,monospace;">${user.last_pin_save_time}</strong></div>`}html+='</div>';if(boardData.length===0){html+='<div style="margin:15px 0;padding:15px;background:#022447;border-radius:8px;"><div style="font-weight:700;color:#00E6F0;margin-bottom:15px;font-size:16px;">üìå Boards</div><div style="color:#CCC;font-style:italic;padding:10px 0;">No boards found for this user.</div></div>'}else{html+=`<div style="margin:15px 0;padding:15px;background:#022447;border-radius:8px;"><div style="font-weight:700;color:#00E6F0;margin-bottom:15px;font-size:16px;">üìå Boards (${boardData.length})</div><table style="width:100%;border-collapse:collapse;font-size:14px;"><thead><tr><th style="background:#008BC4;color:#FFF;padding:10px;text-align:left;font-weight:600;border-right:1px solid #FFF;">Board Order Modified At</th><th style="background:#008BC4;color:#FFF;padding:10px;text-align:left;font-weight:600;border-right:1px solid #FFF;">Created At</th><th style="background:#008BC4;color:#FFF;padding:10px;text-align:left;font-weight:600;">Name</th></tr></thead><tbody>`;boardData.forEach(board=>{html+=`<tr style="border-bottom:1px solid #008BC4;"><td style="padding:10px;color:#FFF;font-family:Courier New,monospace;border-right:1px solid #008BC4;"><strong>${board.board_order_modified_at}</strong></td><td style="padding:10px;color:#FFF;font-family:Courier New,monospace;border-right:1px solid #008BC4;"><strong>${board.created_at}</strong></td><td style="padding:10px;color:#FFF;"><strong>${board.name}</strong></td></tr>`});html+='</tbody></table></div>'}content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nUser Information:\n';if(user.username)displayText+=`Username: ${user.username}\n`;if(user.full_name)displayText+=`Full Name: ${user.full_name}\n`;if(user.id)displayText+=`User ID: ${user.id}\n`;if(user.created_at)displayText+=`Account Created: ${user.created_at}\n`;if(user.last_pin_save_time)displayText+=`Last Pin Save: ${user.last_pin_save_time}\n`;if(boardData.length>0){displayText+=`\nBoards (${boardData.length}):\n`;displayText+='Board Order Modified At | Created At | Name\n';displayText+='------------------------------------------------\n';boardData.forEach(board=>{displayText+=`${board.board_order_modified_at} | ${board.created_at} | ${board.name}\n`})}else{displayText+='\nBoards: No boards found for this user.\n'}navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonStr=JSON.stringify(data,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}const reduxData=findData();if(reduxData){createModal(reduxData)}else{alert('Could not find Pinterest data on this page. Make sure you are on a Pinterest profile or board page.')}});

const TM_poshmarkDateRevealer = (function(){function addDatesToListings(){if(!unsafeWindow.__INITIAL_STATE__){alert('Could not find Poshmark data on this page.');return}const initialState=unsafeWindow.__INITIAL_STATE__;const listingsData=initialState.$_closet?.listingsPostData?.data;if(!listingsData||listingsData.length===0){alert('No listings data found in $_closet.listingsPostData.data');return}const dateMap={};listingsData.forEach(listing=>{if(listing.id&&listing.status_changed_at){dateMap[listing.id]=listing.status_changed_at}});console.log('Date map created:',Object.keys(dateMap).length,'listings');const listingElements=document.querySelectorAll('.tiles_container > div[data-et-prop-listing_id]');let addedCount=0;listingElements.forEach(element=>{const listingId=element.getAttribute('data-et-prop-listing_id');if(listingId&&dateMap[listingId]){const existingDate=element.querySelector('.poshmark-date-added');if(existingDate){existingDate.remove()}const dateDiv=document.createElement('div');dateDiv.className='poshmark-date-added';dateDiv.style.cssText='color:red;font-family:monospace;font-size:11px;margin-top:8px;text-align:left;padding:0 8px 8px 8px;';dateDiv.innerHTML=`Date Changed: <strong>${dateMap[listingId]}</strong>`;const cardContent=element.querySelector('.card');if(cardContent){cardContent.appendChild(dateDiv);addedCount++}else{element.appendChild(dateDiv);addedCount++}}});console.log(`Added dates to ${addedCount} listings`);if(addedCount===0){alert('No matching listings found to add dates to.')}if(addedCount>0){const existingBadge=document.querySelector('.myosint-attribution-badge');if(!existingBadge){const badge=document.createElement('div');badge.className='myosint-attribution-badge';badge.innerHTML='Modified by a Bookmarklet<br>from <a href="https://tools.myosint.training" target="_blank" style="color:#00E6F0;text-decoration:none;">tools.myosint.training</a> <span style="cursor:pointer;margin-left:8px;font-weight:bold;color:#FFF;" onclick="this.parentElement.remove()">√ó</span>';Object.assign(badge.style,{position:'fixed',bottom:'10px',right:'10px',background:'rgba(2, 36, 71, 0.9)',color:'#CCC',padding:'6px 12px',fontSize:'10px',borderRadius:'4px',zIndex:'9999',fontFamily:'Arial, sans-serif',border:'1px solid #008BC4'});document.body.appendChild(badge)}}}addDatesToListings()});

const TM_poshmarkUser = (function(){const faLink=document.createElement('link');faLink.rel='stylesheet';faLink.href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css';document.head.appendChild(faLink);const excludeKeys=['ab_segment','ab_segment_v2','ab_segment_v3','settings'];const customLabels={fb_info:'Facebook',tw_info:'X/Twitter',tm_info:'Unknown',pn_v2_info:'Pinterest',gp_info:'Unknown',ap_info:'Unknown',ig_info:'Instagram'};const platformUrls={fb_info:'https://www.facebook.com/',tw_info:'https://x.com/',pn_v2_info:'https://www.pinterest.com/',ig_info:'https://www.instagram.com/'};function toTitleCase(str){if(customLabels[str])return customLabels[str];return str.split('_').map(word=>word.charAt(0).toUpperCase()+word.slice(1)).join(' ')}function findClosetUserInfo(obj,visited=new Set()){if(!obj||typeof obj!=='object'||visited.has(obj))return null;visited.add(obj);if(obj.closetUserInfo&&obj.closetUserInfo.data){return obj.closetUserInfo.data}for(let key in obj){try{const result=findClosetUserInfo(obj[key],visited);if(result)return result}catch(e){}}return null}function removeNulls(obj){if(obj===null||obj===undefined||obj==='')return null;if(typeof obj!=='object')return obj;if(Array.isArray(obj)){const filtered=obj.map(removeNulls).filter(item=>item!==null);return filtered.length>0?filtered:null}const result={};for(let key in obj){if(excludeKeys.includes(key))continue;const value=removeNulls(obj[key]);if(value!==null&&value!==''){result[key]=value}}return Object.keys(result).length>0?result:null}function prettyPrintObject(obj,indent=0,parentKey=''){if(typeof obj!=='object'||obj===null)return`<strong>${escapeHtml(String(obj))}</strong>`;const spaces='&nbsp;&nbsp;'.repeat(indent);let result='';for(let key in obj){const value=obj[key];const currentParent=parentKey||key;if(typeof value==='object'&&value!==null&&!Array.isArray(value)){result+=`${spaces}${key}:<br>${prettyPrintObject(value,indent+1,currentParent)}`}else if(Array.isArray(value)){result+=`${spaces}${key}: <strong>${escapeHtml(JSON.stringify(value))}</strong><br>`}else{if(key==='ext_username'&&platformUrls[parentKey]){const username=String(value);const url=platformUrls[parentKey]+username+(parentKey==='ig_info'||parentKey==='pn_v2_info'?'/':'');result+=`${spaces}<a href="${url}" target="_blank" rel="noopener noreferrer" style="color:#00E6F0;text-decoration:none;font-weight:700;">${escapeHtml(username)} <i class="fas fa-external-link-alt"></i></a><br>`}else{result+=`${spaces}${key}: <strong>${escapeHtml(String(value))}</strong><br>`}}}return result}function escapeHtml(text){const div=document.createElement('div');div.textContent=text;return div.innerHTML}function extractClosetUserInfo(){if(unsafeWindow.__INITIAL_STATE__){const data=findClosetUserInfo(unsafeWindow.__INITIAL_STATE__);return data?removeNulls(data):null}return null}function displayData(data){const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Poshmark User Data';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');if(!data||Object.keys(data).length===0){content.innerHTML='<p style="text-align:center;color:#CCC;padding:20px;font-style:italic;">No data found or all values are null</p>'}else{let html='';for(let key in data){if(data[key]!==null&&data[key]!==undefined&&data[key]!==''){html+=`<div style="padding:10px 0;border-bottom:1px solid #008BC4;color:#CCC;">${toTitleCase(key)}: `;if(typeof data[key]==='object'&&!Array.isArray(data[key])){html+='<div style="color:#FFF;word-break:break-word;font-family:Courier New,monospace;margin-top:5px;">'+prettyPrintObject(data[key],0,key)+'</div>'}else if(Array.isArray(data[key])){html+=`<strong style="color:#FFF;font-family:Courier New,monospace;">${escapeHtml(JSON.stringify(data[key],null,2))}</strong>`}else{html+=`<strong style="color:#FFF;font-family:Courier New,monospace;">${escapeHtml(String(data[key]))}</strong>`}html+='</div>'}}content.innerHTML=html}contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nPoshmark User Data\n\n';for(let key in data){if(data[key]!==null&&data[key]!==undefined&&data[key]!==''){displayText+=`${toTitleCase(key)}: `;if(typeof data[key]==='object'&&!Array.isArray(data[key])){displayText+=JSON.stringify(data[key],null,2)}else if(Array.isArray(data[key])){displayText+=JSON.stringify(data[key])}else{displayText+=String(data[key])}displayText+='\n'}}navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonStr=JSON.stringify(data,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}const userInfo=extractClosetUserInfo();if(userInfo){displayData(userInfo)}else{alert('Could not find closetUserInfo data on this page. Make sure you\'re on a Poshmark user closet page.')}});

const TM_smuleUser = (function(){function getUsernameFromURL(){const path=window.location.pathname;return path.split('/').pop()}function showProfileModal(data){const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Smule Profile Details';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Current URL: <a href="${window.location.href}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${window.location.href}</a></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Account ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.account_id}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.handle}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.first_name} ${data.last_name}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Location: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.location||'Not specified'}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Verified: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.is_verified?`‚úÖ ${data.verified_type||'Yes'}`:'‚ùå'}</strong></div>`;html+=`<div style="padding:8px 0;color:#CCC;">Installed Apps: <strong style="color:#FFF;font-family:Courier New,monospace;">${data.installed_apps||'None'}</strong></div>`;content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nSmule Profile Details\n\n';displayText+=`Current URL: ${window.location.href}\n`;displayText+=`Account ID: ${data.account_id}\n`;displayText+=`Username: ${data.handle}\n`;displayText+=`Display Name: ${data.first_name} ${data.last_name}\n`;displayText+=`Location: ${data.location||'Not specified'}\n`;displayText+=`Verified: ${data.is_verified?`‚úÖ ${data.verified_type||'Yes'}`:'‚ùå'}\n`;displayText+=`Installed Apps: ${data.installed_apps||'None'}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonStr=JSON.stringify(data,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}function fetchSmuleProfile(){const username=getUsernameFromURL();fetch(`https://www.smule.com/api/profile/?handle=${username}`).then(response=>response.json()).then(data=>{showProfileModal(data)}).catch(error=>{alert('Error fetching profile: '+error)})}fetchSmuleProfile()});

const TM_snapchatDateRevealer = (function(){function findNextData(){const script=document.querySelector('script#__NEXT_DATA__');if(!script)return null;try{return JSON.parse(script.textContent)}catch(e){console.error('Error parsing __NEXT_DATA__:',e);return null}}function extractImageId(url){if(url.includes('bolt_web')){try{const base64Part=url.split('/bolt_web/')[1].split('._RS')[0];const decoded=atob(base64Part);const match=decoded.match(/\/d\/([^/.?]+)/);return match?match[1]:null}catch(e){return null}}const match=url.match(/\/d\/([^/.?]+)/);return match?match[1]:null}function addTimestamps(){const nextData=findNextData();if(!nextData){alert('Could not find Snapchat __NEXT_DATA__ on this page.');return}const spotlightHighlights=nextData?.props?.pageProps?.spotlightHighlights||[];const curatedHighlights=nextData?.props?.pageProps?.curatedHighlights||[];if(spotlightHighlights.length===0&&curatedHighlights.length===0){alert('No Spotlight or Stories data found.');return}const spotlightTimestampMap={};spotlightHighlights.forEach(item=>{const storyId=item.storyId?.value;const snapList=item.snapList;if(storyId&&snapList&&snapList.length>0){const timestamp=snapList[0].timestampInSec?.value;if(timestamp){spotlightTimestampMap[storyId]=timestamp}}});const storyThumbnailTimestampMap={};curatedHighlights.forEach(highlight=>{const thumbnailUrl=highlight.thumbnailUrl?.value;const snapList=highlight.snapList;if(thumbnailUrl&&snapList&&snapList.length>0){const thumbnailId=extractImageId(thumbnailUrl);if(thumbnailId){let mostRecentTimestamp=0;snapList.forEach(snap=>{const timestamp=parseInt(snap.timestampInSec?.value||0);if(timestamp>mostRecentTimestamp){mostRecentTimestamp=timestamp}});if(mostRecentTimestamp>0){storyThumbnailTimestampMap[thumbnailId]=mostRecentTimestamp}}}});console.log('Timestamp maps created:',Object.keys(spotlightTimestampMap).length,'spotlight items,',Object.keys(storyThumbnailTimestampMap).length,'story groups');let addedCount=0;const now=Date.now();const oneWeekMs=7*24*60*60*1000;const spotlightCards=document.querySelectorAll('[data-testid="spotlight-tile"]');spotlightCards.forEach(card=>{const link=card.querySelector('a[href*="/spotlight/"]');if(!link)return;const href=link.getAttribute('href');const storyIdMatch=href.match(/\/spotlight\/([^?]+)/);if(!storyIdMatch)return;const storyId=storyIdMatch[1];if(spotlightTimestampMap[storyId]){const existingTimestamp=card.querySelector('.snapchat-timestamp-added');if(existingTimestamp){existingTimestamp.remove()}const epoch=parseInt(spotlightTimestampMap[storyId]);const date=new Date(epoch*1000);const dateStr=date.toISOString();const isRecent=(now-date.getTime())<oneWeekMs;const recentIndicator=isRecent?'üö® ':'';const timestampDiv=document.createElement('div');timestampDiv.className='snapchat-timestamp-added';timestampDiv.style.cssText='color:red;font-family:monospace;font-size:11px;margin-top:8px;text-align:left;padding:8px;background:rgba(255,255,255,0.95);position:relative;z-index:1000;';timestampDiv.innerHTML=`Posted: <strong>${recentIndicator}${dateStr}</strong>`;card.appendChild(timestampDiv);addedCount++}});const storyCards=document.querySelectorAll('[data-testid="story-tile"]');storyCards.forEach(card=>{const img=card.querySelector('img[data-testid="image-tile-img"]');if(!img)return;const imgSrc=img.getAttribute('src');const imageId=extractImageId(imgSrc);if(imageId&&storyThumbnailTimestampMap[imageId]){const existingTimestamp=card.querySelector('.snapchat-timestamp-added');if(existingTimestamp){existingTimestamp.remove()}const epoch=parseInt(storyThumbnailTimestampMap[imageId]);const date=new Date(epoch*1000);const dateStr=date.toISOString();const isRecent=(now-date.getTime())<oneWeekMs;const recentIndicator=isRecent?'üö® ':'';const timestampDiv=document.createElement('div');timestampDiv.className='snapchat-timestamp-added';timestampDiv.style.cssText='color:red;font-family:monospace;font-size:11px;margin-top:8px;text-align:left;padding:8px;background:rgba(255,255,255,0.95);position:relative;z-index:1000;';timestampDiv.innerHTML=`Posted: <strong>${recentIndicator}${dateStr}</strong>`;card.appendChild(timestampDiv);addedCount++}});console.log(`Added timestamps to ${addedCount} cards total`);if(addedCount===0){alert('No matching cards found to add timestamps to.')}if(addedCount>0){const existingBadge=document.querySelector('.myosint-attribution-badge');if(!existingBadge){const badge=document.createElement('div');badge.className='myosint-attribution-badge';badge.innerHTML='Modified by a Bookmarklet<br>from <a href="https://tools.myosint.training" target="_blank" style="color:#00E6F0;text-decoration:none;">tools.myosint.training</a> <span style="cursor:pointer;margin-left:8px;font-weight:bold;color:#FFF;" onclick="this.parentElement.remove()">√ó</span>';Object.assign(badge.style,{position:'fixed',bottom:'10px',right:'10px',background:'rgba(2, 36, 71, 0.9)',color:'#CCC',padding:'6px 12px',fontSize:'10px',borderRadius:'4px',zIndex:'9999',fontFamily:'Arial, sans-serif',border:'1px solid #008BC4'});document.body.appendChild(badge)}}}addTimestamps()});

const TM_snapchatUserID = (function(){function findProfileInfo(){if('18'==document.documentElement.innerHTML.match(/"pageType":(\d\d)/)[1]){var e=document.documentElement.innerHTML.match(/"dateCreated":"(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z)"/);var o=document.documentElement.innerHTML.match(/"dateModified":"(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}\.\d{3}Z)"/);var t=e?e[1]:'[Not Present]';var n=o?o[1]:'[Not Present]';var r=document.getElementById('__NEXT_DATA__');var l=JSON.parse(r.text).props.pageProps.userProfile.publicProfileInfo;return{createdDate:t,modifiedDate:n,username:l.username,displayName:l.title?l.title:'[Not Present]',bio:l.bio?l.bio:'[Not Present]',location:l.address?l.address:'[Not Present]',websiteUrl:l.websiteUrl?l.websiteUrl:'[Not Present]'}}return alert('Sorry. This Snapchat user has no public profile.')}var profileInfo=findProfileInfo();if(profileInfo){const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Snapchat Profile Information';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">@${profileInfo.username}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${profileInfo.displayName}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Location: <strong style="color:#FFF;font-family:Courier New,monospace;">${profileInfo.location}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Bio: <strong style="color:#FFF;font-family:Courier New,monospace;">${profileInfo.bio}</strong></div>`;if(profileInfo.websiteUrl!=='[Not Present]'){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Website: <a href="${profileInfo.websiteUrl}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${profileInfo.websiteUrl}</a></div>`}else{html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Website: <strong style="color:#FFF;font-family:Courier New,monospace;">[Not Present]</strong></div>`}html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Created Timestamp: <strong style="color:#FFF;font-family:Courier New,monospace;">${profileInfo.createdDate}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Modified Timestamp: <strong style="color:#FFF;font-family:Courier New,monospace;">${profileInfo.modifiedDate}</strong></div>`;html+=`<div style="padding:8px 0;color:#CCC;">Current URL: <a href="${document.URL}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${document.URL}</a></div>`;content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nSnapchat Profile Information\n\n';displayText+=`Username: @${profileInfo.username}\n`;displayText+=`Display Name: ${profileInfo.displayName}\n`;displayText+=`Location: ${profileInfo.location}\n`;displayText+=`Bio: ${profileInfo.bio}\n`;displayText+=`Website: ${profileInfo.websiteUrl}\n`;displayText+=`Created Timestamp: ${profileInfo.createdDate}\n`;displayText+=`Modified Timestamp: ${profileInfo.modifiedDate}\n`;displayText+=`Current URL: ${document.URL}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonStr=JSON.stringify(profileInfo,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}});

const TM_soundcloudUser = (function(){function findUserData(){if(!unsafeWindow.__sc_hydration||!Array.isArray(unsafeWindow.__sc_hydration)){return null}for(let item of unsafeWindow.__sc_hydration){if(item.hydratable==='user'&&item.data){return item.data}}return null}function createModal(userData){if(!userData){alert('No SoundCloud user data found on this page.');return}const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="#00E6F0" style="vertical-align:middle;margin-right:10px;"><path d="M7 17.939h-1v-8.068c.308-.231.639-.429 1-.566v8.634zm3 0h1v-9.224c-.229.265-.443.548-.621.857l-.379-.184v8.551zm-2 0h1v-8.848c-.508-.079-.623-.05-1-.01v8.858zm-4 0h1v-7.02c-.312.458-.555.971-.692 1.535l-.308-.182v5.667zm-3-5.25c-.606.547-1 1.354-1 2.268 0 .914.394 1.721 1 2.268v-4.536zm18.879-.671c-.204-2.837-2.404-5.079-5.117-5.079-1.022 0-1.964.328-2.762.877v10.123h9.089c1.607 0 2.911-1.393 2.911-3.106 0-1.714-1.304-3.106-2.911-3.106h-.21z"/></svg>SoundCloud User Data';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+='<div style="margin:15px 0;padding:15px;background:#022447;border-radius:8px;"><div style="font-weight:700;color:#00E6F0;margin-bottom:15px;font-size:16px;">üë§ User Information</div>';if(userData.username){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${userData.username}</strong></div>`}if(userData.full_name){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Full Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${userData.full_name}</strong></div>`}if(userData.id){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">User ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${userData.id}</strong></div>`}if(userData.permalink_url){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Profile URL: <a href="${userData.permalink_url}" target="_blank" rel="noopener noreferrer" style="color:#00E6F0;text-decoration:none;font-weight:700;">${userData.permalink_url}</a></div>`}if(userData.created_at){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Account Created: <strong style="color:#FFF;font-family:Courier New,monospace;">${userData.created_at}</strong></div>`}if(userData.last_modified){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Last Modified: <strong style="color:#FFF;font-family:Courier New,monospace;">${userData.last_modified}</strong></div>`}if(userData.date_of_birth&&userData.date_of_birth!==null){html+=`<div style="padding:8px 0;color:#CCC;">Date of Birth: <strong style="color:#FFF;font-family:Courier New,monospace;">${userData.date_of_birth}</strong></div>`}html+='</div>';content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nUser Information:\n';if(userData.username)displayText+=`Username: ${userData.username}\n`;if(userData.full_name)displayText+=`Full Name: ${userData.full_name}\n`;if(userData.id)displayText+=`User ID: ${userData.id}\n`;if(userData.permalink_url)displayText+=`Profile URL: ${userData.permalink_url}\n`;if(userData.created_at)displayText+=`Account Created: ${userData.created_at}\n`;if(userData.last_modified)displayText+=`Last Modified: ${userData.last_modified}\n`;if(userData.date_of_birth&&userData.date_of_birth!==null)displayText+=`Date of Birth: ${userData.date_of_birth}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonStr=JSON.stringify(userData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}const userData=findUserData();if(userData){createModal(userData)}else{alert('Could not find SoundCloud user data on this page. Make sure you are on a SoundCloud profile page.')}});

const TM_telegramReveal = (function(){var a=document.getElementsByClassName('tgme_page_description')[0];if(a){const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Telegram Page Description';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');const descText=a.innerText.replace(/\n/g,'<br>');content.innerHTML=`<div style="padding:8px 0;color:#CCC;">Description: <strong style="color:#FFF;font-family:Courier New,monospace;">${descText}</strong></div>`;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nTelegram Page Description\n\n';displayText+=`Description: ${a.innerText}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={description:a.innerText};const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}else{alert('Page description not found')}});

const TM_threadsFromInstagram = (function(){var url=window.location.href;if(url.includes('instagram.com/')){var username=url.split('instagram.com/')[1].split('/')[0];var newUrl='https://threads.net/@'+username;window.open(newUrl,'_blank')}else{alert('This is not an Instagram page.')}});

const TM_threadsUserID = (function(){const pageSource=document.documentElement.outerHTML;try{if(window.trustedTypes&&window.trustedTypes.createPolicy){window.trustedTypes.createPolicy('default',{createHTML:(string,sink)=>string})}}catch{};const decodeUnicode=str=>{return str.replace(/\\u[\dA-Fa-f]{4}/g,match=>{return String.fromCharCode(parseInt(match.replace(/\\u/,''),16))})};const extractValues=(regex,source)=>{const matches=[];let match;while((match=regex.exec(source))!==null){matches.push(decodeUnicode(match[1]))}return matches};const regexDisplayName=/"full_name":"([^"]+)"/g;const regexThreadsId=/"pk":"(\d+)"/g;const regexBio=/"biography":"([^"]+)"/g;const regexUsername=/"username":"([^"]+)"/g;const displayNames=extractValues(regexDisplayName,pageSource);const threadsIds=extractValues(regexThreadsId,pageSource);const bios=extractValues(regexBio,pageSource);const users=extractValues(regexUsername,pageSource);const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='Threads User Data';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${users[1]||'Not found'}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${displayNames[0]||'Not found'}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Threads ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${threadsIds[0]||'Not found'}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Current URL: <a href="${document.URL}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${document.URL}</a></div>`;if(bios.length>0){html+='<div style="padding:8px 0;color:#CCC;">Bio/Signature:</div>';bios.forEach(bio=>{html+=`<div style="padding:8px 0 8px 20px;color:#CCC;">‚Ä¢ <strong style="color:#FFF;font-family:Courier New,monospace;">${bio.replace(/\\n/g,'<br>')}</strong></div>`})}else{html+='<div style="padding:8px 0;color:#CCC;">Bio/Signature: <strong style="color:#FFF;font-family:Courier New,monospace;">Not found</strong></div>'}content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nThreads User Data\n\n';displayText+=`Username: ${users[1]||'Not found'}\n`;displayText+=`Display Name: ${displayNames[0]||'Not found'}\n`;displayText+=`Threads ID: ${threadsIds[0]||'Not found'}\n`;displayText+=`Current URL: ${document.URL}\n`;if(bios.length>0){displayText+='Bio/Signature:\n';bios.forEach(bio=>{displayText+=`${bio}\n`})}else{displayText+='Bio/Signature: Not found\n'}navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={username:users[1]||'Not found',displayName:displayNames[0]||'Not found',threadsId:threadsIds[0]||'Not found',currentUrl:document.URL,bio:bios};const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)});

const TM_tiktokDateRevealer = (function(){function extractUnixTimestamp(vidId){const asBinary=BigInt(vidId).toString(2);const first31Chars=asBinary.slice(0,31);const timestamp=parseInt(first31Chars,2);return timestamp}function addDescriptions(){const videoCards=document.querySelectorAll('[data-e2e="user-post-item"]');const repostCards=document.querySelectorAll('[data-e2e="user-repost-item"]');const allCards=[...videoCards,...repostCards];if(allCards.length===0){alert('No TikTok video or repost cards found on this page.');return}let addedCount=0;const now=Date.now();const oneWeekMs=7*24*60*60*1000;allCards.forEach(card=>{const existingDesc=card.querySelector('.tiktok-description-added');if(existingDesc){existingDesc.remove()}const isRepost=card.getAttribute('data-e2e')==='user-repost-item';const link=card.querySelector('a[href*="/video/"], a[href*="/photo/"]');const img=card.querySelector('img[alt]');if(!link||!img)return;const href=link.getAttribute('href');const vidIdMatch=href.match(/\/(video|photo)\/(\d+)/);if(!vidIdMatch)return;const vidId=vidIdMatch[2];const timestamp=extractUnixTimestamp(vidId);const date=new Date(timestamp*1000);const isRecent=(now-date.getTime())<oneWeekMs;let dateStr=date.toISOString();if(isRecent){dateStr='üö® '+dateStr}let altText=img.getAttribute('alt');if(!altText||altText.trim()==='')return;if(isRepost){const withIndex=altText.indexOf(' with');if(withIndex!==-1){altText=altText.substring(0,withIndex)}}else{const createdByIndex=altText.indexOf(' created by');if(createdByIndex!==-1){altText=altText.substring(0,createdByIndex)}}const descContainer=document.createElement('div');descContainer.className='tiktok-description-added';descContainer.style.cssText='font-family:monospace;font-size:11px;margin-top:8px;padding:8px;background:rgba(255,255,255,0.95);position:relative;z-index:1000;word-wrap:break-word;';const timestampDiv=document.createElement('div');timestampDiv.style.cssText='color:red;margin-bottom:4px;';timestampDiv.innerHTML=`Posted: <strong>${dateStr}</strong>`;const altDiv=document.createElement('div');altDiv.style.cssText='color:#000;';altDiv.innerHTML=`Image Alt Tag: <strong>${altText}</strong>`;descContainer.appendChild(timestampDiv);descContainer.appendChild(altDiv);card.appendChild(descContainer);addedCount++});console.log(`Added descriptions to ${addedCount} cards total`);if(addedCount===0){alert('No video or repost descriptions found to add.')}if(addedCount>0){const existingBadge=document.querySelector('.myosint-attribution-badge');if(!existingBadge){const badge=document.createElement('div');badge.className='myosint-attribution-badge';badge.innerHTML='Modified by a Bookmarklet<br>from <a href="https://tools.myosint.training" target="_blank" style="color:#00E6F0;text-decoration:none;">tools.myosint.training</a> <span style="cursor:pointer;margin-left:8px;font-weight:bold;color:#FFF;" onclick="this.parentElement.remove()">√ó</span>';Object.assign(badge.style,{position:'fixed',bottom:'10px',right:'10px',background:'rgba(2, 36, 71, 0.9)',color:'#CCC',padding:'6px 12px',fontSize:'10px',borderRadius:'4px',zIndex:'9999',fontFamily:'Arial, sans-serif',border:'1px solid #008BC4'});document.body.appendChild(badge)}}}addDescriptions()});

const TM_tiktokUserID = (function(){function formatEpochTimestamp(e){const t=new Date(1e3*e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}`}var scriptElement=document.getElementById("__UNIVERSAL_DATA_FOR_REHYDRATION__"),jsonData=JSON.parse(scriptElement.text),userInfo=jsonData.__DEFAULT_SCOPE__&&jsonData.__DEFAULT_SCOPE__["webapp.user-detail"]&&jsonData.__DEFAULT_SCOPE__["webapp.user-detail"].userInfo&&jsonData.__DEFAULT_SCOPE__["webapp.user-detail"].userInfo.user,uniqueId=userInfo.uniqueId,nickname=userInfo.nickname,region=userInfo.region,id=userInfo.id,avatarLarger=userInfo.avatarLarger,createdTimestamp=userInfo.createTime,formattedCreateDate=formatEpochTimestamp(createdTimestamp);const now=Date.now();const oneWeekMs=7*24*60*60*1000;const createdDate=new Date(createdTimestamp*1000);const isCreatedRecent=(now-createdDate.getTime())<oneWeekMs;let formattedNickMod='';let isNickModRecent=false;if(userInfo.nickNameModifyTime>0){formattedNickMod=formatEpochTimestamp(userInfo.nickNameModifyTime);const nickModDate=new Date(userInfo.nickNameModifyTime*1000);isNickModRecent=(now-nickModDate.getTime())<oneWeekMs}var sig=userInfo.signature||'';const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='TikTok User Data';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';if(uniqueId){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${uniqueId}</strong></div>`}if(nickname){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${nickname}</strong></div>`}if(id){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">TikTok ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${id}</strong></div>`}if(formattedCreateDate){const recentFlag=isCreatedRecent?'üö® ':'';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Created On: <strong style="color:#FFF;font-family:Courier New,monospace;">${recentFlag}${formattedCreateDate}</strong></div>`}if(formattedNickMod){const recentFlag=isNickModRecent?'üö® ':'';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Nickname Changed: <strong style="color:#FFF;font-family:Courier New,monospace;">${recentFlag}${formattedNickMod}</strong></div>`}if(sig){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Bio/Signature:<br><strong style="color:#FFF;font-family:Courier New,monospace;">${sig.replace(/\n/g,'<br>')}</strong></div>`}html+=`<div style="padding:8px 0;color:#CCC;">Current URL: <a href="${document.URL}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${document.URL}</a></div>`;content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nTikTok User Data\n\n';if(uniqueId)displayText+=`Username: ${uniqueId}\n`;if(nickname)displayText+=`Display Name: ${nickname}\n`;if(id)displayText+=`TikTok ID: ${id}\n`;if(formattedCreateDate){const recentFlag=isCreatedRecent?'üö® ':'';displayText+=`Created On: ${recentFlag}${formattedCreateDate}\n`}if(formattedNickMod){const recentFlag=isNickModRecent?'üö® ':'';displayText+=`Nickname Changed: ${recentFlag}${formattedNickMod}\n`}if(sig)displayText+=`Bio/Signature: ${sig}\n`;displayText+=`Current URL: ${document.URL}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={};if(uniqueId)jsonData.username=uniqueId;if(nickname)jsonData.displayName=nickname;if(id)jsonData.tiktokId=id;if(formattedCreateDate){jsonData.createdOn=formattedCreateDate;jsonData.createdOnRecent=isCreatedRecent}if(formattedNickMod){jsonData.nicknameChanged=formattedNickMod;jsonData.nicknameChangedRecent=isNickModRecent}if(sig)jsonData.bioSignature=sig;jsonData.currentUrl=document.URL;const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)});

const TM_tiktokURLDecode = (function(){function extractUnixTimestamp(vidId){const asBinary=BigInt(vidId).toString(2);const first31Chars=asBinary.slice(0,31);const timestamp=parseInt(first31Chars,2);return timestamp}function formatDate(timestamp){const date=new Date(timestamp*1e3);return date.toISOString()}const url=window.location.href;const vidIdMatch=url.match(/\/(\d+)$/);if(vidIdMatch){const vidId=vidIdMatch[1];const timestamp=extractUnixTimestamp(vidId);const humanReadableDate=formatDate(timestamp);const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='TikTok Video Timestamp';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Video ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${vidId}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Extracted Unix Timestamp: <strong style="color:#FFF;font-family:Courier New,monospace;">${timestamp}</strong></div>`;html+=`<div style="padding:8px 0;color:#CCC;">Human Readable Date: <strong style="color:#FFF;font-family:Courier New,monospace;">${humanReadableDate}</strong></div>`;content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nTikTok Video Timestamp\n\n';displayText+=`Video ID: ${vidId}\n`;displayText+=`Extracted Unix Timestamp: ${timestamp}\n`;displayText+=`Human Readable Date: ${humanReadableDate}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={videoId:vidId,unixTimestamp:timestamp,humanReadableDate:humanReadableDate};const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}else{alert('Invalid URL. Please make sure it is a TikTok URL with a large number at the end.')}});

const TM_venmo = (function(){var scriptElement=document.getElementById('__NEXT_DATA__');var jsonData=JSON.parse(scriptElement.text);var userInfo=jsonData.props.pageProps.user;var uniqueId=userInfo.username;var nickname=userInfo.displayName;var id=userInfo.id;var avatarPic=userInfo.profilePictureUrl;var friendCount=userInfo.friendCount||0;var isActive=userInfo.isActive;if(avatarPic){avatarPic=avatarPic.replace(/width=50/g,'width=400').replace(/height=50/g,'height=400')}const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF',position:'relative'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const twoPaneContainer=document.createElement('div');twoPaneContainer.style.cssText='display:flex;gap:20px;margin-bottom:20px;';const leftPane=document.createElement('div');leftPane.style.cssText='flex:1;';const title=document.createElement('h2');title.textContent='Venmo User Data';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});leftPane.appendChild(title);const activeBadge=isActive?'<span style="background:#00C853;color:#FFF;padding:4px 8px;border-radius:4px;font-weight:bold;font-size:11px;margin-bottom:10px;display:inline-block;">Profile is Active</span>':'<span style="background:#757575;color:#FFF;padding:4px 8px;border-radius:4px;font-weight:bold;font-size:11px;margin-bottom:10px;display:inline-block;">Profile is Inactive</span>';let html=activeBadge;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${uniqueId}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Display Name: <strong style="color:#FFF;font-family:Courier New,monospace;">${nickname}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Venmo ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${id}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Friend Count: <strong style="color:#FFF;font-family:Courier New,monospace;">${friendCount}</strong></div>`;leftPane.innerHTML+=html;const rightPane=document.createElement('div');rightPane.style.cssText='flex:0 0 400px;display:flex;align-items:flex-start;justify-content:center;';if(avatarPic){const imgContainer=document.createElement('div');imgContainer.style.cssText='border:3px solid #008BC4;border-radius:8px;overflow:hidden;background:#000;width:100%;';const img=document.createElement('img');img.src=avatarPic;img.alt='Profile Picture';img.style.cssText='width:100%;height:auto;display:block;';img.onerror=function(){imgContainer.innerHTML='<div style="padding:80px 20px;color:#CCC;text-align:center;font-size:14px;">Image not available</div>'};imgContainer.appendChild(img);rightPane.appendChild(imgContainer)}else{rightPane.innerHTML='<div style="padding:80px 20px;color:#CCC;border:2px dashed #008BC4;border-radius:8px;text-align:center;width:100%;">No profile picture</div>'}twoPaneContainer.appendChild(leftPane);twoPaneContainer.appendChild(rightPane);contentWrapper.appendChild(twoPaneContainer);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nVenmo User Data\n\n';displayText+=`Profile Status: ${isActive?'Active':'Inactive'}\n`;displayText+=`Username: ${uniqueId}\n`;displayText+=`Display Name: ${nickname}\n`;displayText+=`Venmo ID: ${id}\n`;displayText+=`Friend Count: ${friendCount}\n`;if(avatarPic){displayText+=`Avatar Image: ${avatarPic}\n`}navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={username:uniqueId,displayName:nickname,venmoId:id,friendCount:friendCount,isActive:isActive};if(avatarPic){jsonData.avatarImage=avatarPic}const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;const rect=modal.getBoundingClientRect();dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-rect.left;dragInfo.offsetY=e.clientY-rect.top;modal.style.transform='none';modal.style.left=rect.left+'px';modal.style.top=rect.top+'px'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)});

const TM_xUserID = (async()=>{try{const q=(s,r=document)=>r.querySelector(s);const qa=(s,r=document)=>Array.from(r.querySelectorAll(s));const t=s=>typeof s=='string'?s.trim():'';const esc=s=>(s||'').replace(/&/g,'&').replace(/</g,'<').replace(/>/g,'>').replace(/"/g,'"').replace(/'/g,'&#39;');const url=q('meta[property="og:url"]')?.content||location.href;const u=new URL(url);const parts=u.pathname.split('/').filter(Boolean);const handleFromURL=parts[0]||'';const USERNAME='@'+handleFromURL;const spans=qa('div[data-testid="UserName"] span, div[data-testid="User-Name"] span');const displayName=spans.map(s=>t(s.textContent)).find(x=>x&&!x.startsWith('@'))||'';const findIdentifier=()=>{const hn=(handleFromURL||'').toLowerCase();const escRe=s=>s.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');const rx=[new RegExp('"identifier":"(\\d+)"[\\s\\S]{0,15000}"screen_name":"'+escRe(hn)+'"','i'),new RegExp('"screen_name":"'+escRe(hn)+'"[\\s\\S]{0,15000}"identifier":"(\\d+)"','i')];const scan=txt=>{if(!txt||txt.indexOf('"identifier"')===-1)return '';for(const r of rx){const m=txt.match(r);if(m)return m[1]}const m2=txt.match(/"identifier":"(\d{5,})"/);return m2?m2[1]:''};for(const s of qa('script')){const x=s.textContent||'';const id=scan(x);if(id){return id}}const fallback=scan(document.documentElement.innerHTML)||'';return fallback};const identifier=findIdentifier();const userIdURL=identifier?('https://x.com/i/user/'+identifier):'';const findCreateISO=()=>{for(const s of qa('script')){const x=s.textContent||'';let m=x.match(/"dateCreated":"([^"]+)"/)||x.match(/"created_at":"([^"]+)"/)||x.match(/"createdAt":"([^"]+)"/);if(m){const d=new Date(m[1]);if(!isNaN(d))return d.toISOString()}}const joined=q('[data-testid="UserJoinDate"] span')?.textContent||'';const jm=joined.match(/Joined\s+([A-Za-z]+)\s+(\d{4})/);if(jm){const d=new Date(jm[1]+' 1, '+jm[2]+' 00:00:00Z');if(!isNaN(d))return d.toISOString()}return ''};const createdISO=findCreateISO();const bannerImg=q('img[src*="pbs.twimg.com/profile_banners/"]')?.src||'';const decodeSnowflakeMs=id=>{try{const EPOCH=1288834974657n;return Number((BigInt(id)>>22n)+EPOCH)}catch{return NaN}};const parseBannerUpload=src=>{try{if(!src)return '';const clean=src.split('?')[0];const m=clean.match(/\/profile_banners\/\d+\/(\d+)/);if(!m)return '';const token=m[1];let ms=NaN;if(/^\d{19,}$/.test(token)){ms=decodeSnowflakeMs(token)}else if(/^\d{13}$/.test(token)){ms=parseInt(token,10)}else if(/^\d{10}$/.test(token)){ms=parseInt(token,10)*1e3}if(!isNaN(ms)){const d=new Date(ms);if(!isNaN(d))return d.toISOString()}return '(unknown)'}catch{return '(unknown)'}};const bannUp=parseBannerUpload(bannerImg);const findProfileImg=()=>{try{const hn=handleFromURL||'';let a=q('div[data-testid="primaryColumn"] a[href="/'+hn+'/photo"]')||q('a[href="/'+hn+'/photo"]');if(a){let im=a.querySelector('img[src*="pbs.twimg.com/profile_images/"]');if(im)return im.src;const els=[a,...qa('*',a)];for(const el of els){const bg=getComputedStyle(el).backgroundImage||'';const m=bg.match(/url\(["']?(https?:\/\/[^"')]+profile_images[^"')]+)["']?\)/i);if(m)return m[1]}}const og=q('meta[property="og:image"]')?.content||'';if(og&&/pbs\.twimg\.com\/profile_images\//i.test(og))return og;const escRe=s=>s.replace(/[.*+?^${}()|[\]\\]/g,'\\$&');const hnre=escRe((hn||'').toLowerCase());const scan=txt=>{if(!txt||txt.indexOf('profile_image_url')===-1)return '';const raw=txt.replace(/\\\//g,'/');let m=raw.match(new RegExp('"screen_name":"'+hnre+'"[\\s\\S]{0,2000}"profile_image_url_https":"(https://pbs\\.twimg\\.com/profile_images/[^"]+)"','i'));if(m)return m[1];m=raw.match(new RegExp('"profile_image_url_https":"(https://pbs\\.twimg\\.com/profile_images/[^"]+)"[\\s\\S]{0,2000}"screen_name":"'+hnre+'"','i'));if(m)return m[1];m=raw.match(/"profile_image_url_https":"(https:\/\/pbs\.twimg\.com\/profile_images\/[^"]+)"/i);return m?m[1]:''};for(const s of qa('script')){const r=scan(s.textContent||'');if(r)return r}const r2=scan(document.documentElement.innerHTML);if(r2)return r2;const any=q('div[data-testid="primaryColumn"] img[src*="pbs.twimg.com/profile_images/"]');if(any)return any.src;return ''}catch{return ''}};let profileImg=findProfileImg();if(profileImg){profileImg=profileImg.replace('_normal','');if(profileImg.indexOf('name=')>-1)profileImg=profileImg.replace(/([?&])name=[^&]*/,'$1name=orig')}const profileURL='https://x.com/'+handleFromURL;let aboutData=null;try{const getCsrfToken=()=>{const cookies=document.cookie.split(';');for(let cookie of cookies){const parts=cookie.trim().split('=');if(parts[0]==='ct0'){return parts[1]}}const metaTag=document.querySelector('meta[name="csrf-token"]');if(metaTag){return metaTag.content}const scriptText=document.documentElement.innerHTML;const match=scriptText.match(/"csrf_token":"([^"]+)"/);if(match){return match[1]}return null};const csrfToken=getCsrfToken();if(csrfToken){const bearerToken='AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA';const apiUrl=`https://x.com/i/api/graphql/zs_jFPFT78rBpXv9Z3U2YQ/AboutAccountQuery?variables=${encodeURIComponent(JSON.stringify({screenName:handleFromURL}))}`;const response=await fetch(apiUrl,{method:'GET',credentials:'include',headers:{'accept':'*/*','accept-language':'en-US,en;q=0.9','authorization':'Bearer '+bearerToken,'content-type':'application/json','referer':'https://x.com/'+handleFromURL+'/about','x-csrf-token':csrfToken,'x-twitter-active-user':'yes','x-twitter-auth-type':'OAuth2Session','x-twitter-client-language':'en'}});if(response.ok){aboutData=await response.json()}}}catch(e){}let accountBasedIn='';let locationAccurate=null;let sourceValue='';let usernameChanges='';let lastChangedDate='';if(aboutData?.data?.user_result_by_screen_name?.result?.about_profile){const about=aboutData.data.user_result_by_screen_name.result.about_profile;accountBasedIn=about.account_based_in||'';locationAccurate=about.location_accurate;sourceValue=about.source||'';if(about.username_changes){usernameChanges=about.username_changes.count||'';if(about.username_changes.last_changed_at_msec){const ms=parseInt(about.username_changes.last_changed_at_msec,10);const d=new Date(ms);if(!isNaN(d)){lastChangedDate=d.toISOString()}}}}const modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='X Profile Data';Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);const content=document.createElement('div');let html='';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">X ID: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(identifier||'(unknown)')}</strong></div>`;if(userIdURL){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">User ID URL: <a href="${esc(userIdURL)}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${esc(userIdURL)}</a></div>`}else{html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">User ID URL: <strong style="color:#FFF;font-family:Courier New,monospace;">(unknown)</strong></div>`}html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Profile URL: <a href="${esc(profileURL)}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">${esc(profileURL)}</a></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(handleFromURL||'(unknown)')}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Handle: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(displayName||'(unknown)')}</strong></div>`;html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Create Date: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(createdISO||'(unknown)')}</strong></div>`;if(lastChangedDate){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Last Username Change: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(lastChangedDate)}</strong></div>`}if(usernameChanges){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Username Changes: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(usernameChanges)}</strong></div>`}if(accountBasedIn){const locIcon=locationAccurate!==null?(locationAccurate?' (Location Accurate: ‚úÖ)':' (Location Accurate: ‚ùå)'):'';html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Account Based In: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(accountBasedIn)}${locIcon}</strong></div>`}if(sourceValue){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Source: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(sourceValue)}</strong></div>`}if(bannerImg){html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Banner Image: <a href="${esc(bannerImg)}" target="_blank" style="color:#00E6F0;text-decoration:none;font-family:Courier New,monospace;font-weight:bold;">View Image</a></div>`}else{html+=`<div style="padding:8px 0;border-bottom:1px solid #008BC4;color:#CCC;">Banner Image: <strong style="color:#FFF;font-family:Courier New,monospace;">(not found)</strong></div>`}html+=`<div style="padding:8px 0;color:#CCC;">Banner Upload Date: <strong style="color:#FFF;font-family:Courier New,monospace;">${esc(bannUp||'(unknown)')}</strong></div>`;content.innerHTML=html;contentWrapper.appendChild(content);const copyDisplayBtn=document.createElement('button');copyDisplayBtn.textContent='üìã Copy Displayed Data';Object.assign(copyDisplayBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',marginRight:'10px',fontWeight:'600',marginTop:'15px'});copyDisplayBtn.onmouseover=function(){this.style.background='#00E6F0'};copyDisplayBtn.onmouseout=function(){this.style.background='#008BC4'};copyDisplayBtn.onclick=function(e){e.stopPropagation();let displayText='Generated by a bookmarklet from https://tools.myosint.training\n\nX Profile Data\n\n';displayText+=`Identifier: ${identifier||'(unknown)'}\n`;displayText+=`User ID URL: ${userIdURL||'(unknown)'}\n`;displayText+=`Profile URL: ${profileURL}\n`;displayText+=`Username: @${handleFromURL||'(unknown)'}\n`;displayText+=`Handle: ${displayName||'(unknown)'}\n`;displayText+=`Create Date: ${createdISO||'(unknown)'}\n`;if(accountBasedIn)displayText+=`Account Based In: ${accountBasedIn}\n`;if(locationAccurate!==null)displayText+=`Location Accurate: ${locationAccurate?'‚úì':'‚úó'}\n`;if(sourceValue)displayText+=`Source: ${sourceValue}\n`;if(usernameChanges)displayText+=`Username Changes: ${usernameChanges}\n`;if(lastChangedDate)displayText+=`Last Username Change: ${lastChangedDate}\n`;displayText+=`Banner Image: ${bannerImg||'(not found)'}\n`;displayText+=`Banner Upload Date: ${bannUp||'(unknown)'}\n`;if(profileImg)displayText+=`Profile Image: ${profileImg}\n`;navigator.clipboard.writeText(displayText).then(()=>{copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=displayText;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyDisplayBtn.style.background='#00E6F0';copyDisplayBtn.textContent='‚úì Copied!';setTimeout(()=>{copyDisplayBtn.textContent='üìã Copy Displayed Data';copyDisplayBtn.style.background='#008BC4'},1500)})};const copyJsonBtn=document.createElement('button');copyJsonBtn.textContent='üìã Copy Full JSON';Object.assign(copyJsonBtn.style,{background:'#008BC4',color:'#FFF',border:'none',padding:'10px 20px',borderRadius:'6px',cursor:'pointer',fontSize:'14px',fontWeight:'600',marginTop:'15px'});copyJsonBtn.onmouseover=function(){this.style.background='#00E6F0'};copyJsonBtn.onmouseout=function(){this.style.background='#008BC4'};copyJsonBtn.onclick=function(e){e.stopPropagation();const jsonData={identifier:identifier||'(unknown)',userIdURL:userIdURL||'(unknown)',profileURL:profileURL,username:'@'+(handleFromURL||'(unknown)'),handle:displayName||'(unknown)',createDate:createdISO||'(unknown)',bannerImage:bannerImg||'(not found)',bannerUploadDate:bannUp||'(unknown)'};if(profileImg){jsonData.profileImage=profileImg}if(accountBasedIn)jsonData.accountBasedIn=accountBasedIn;if(locationAccurate!==null)jsonData.locationAccurate=locationAccurate;if(sourceValue)jsonData.source=sourceValue;if(usernameChanges)jsonData.usernameChanges=usernameChanges;if(lastChangedDate)jsonData.lastUsernameChange=lastChangedDate;const jsonStr=JSON.stringify(jsonData,null,2);navigator.clipboard.writeText(jsonStr).then(()=>{copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)}).catch(()=>{const textarea=document.createElement('textarea');textarea.value=jsonStr;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyJsonBtn.textContent='‚úì Copied!';setTimeout(()=>{copyJsonBtn.textContent='üìã Copy Full JSON'},1500)})};const buttonContainer=document.createElement('div');Object.assign(buttonContainer.style,{marginTop:'15px',position:'relative',zIndex:'1'});buttonContainer.appendChild(copyDisplayBtn);buttonContainer.appendChild(copyJsonBtn);contentWrapper.appendChild(buttonContainer);modal.appendChild(contentWrapper);const dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}catch(e){alert('Bookmarklet error: '+(e&&e.message?e.message:e))}});

const TM_JSONreveal = (function(){try{var s=document.querySelectorAll('script'),j=[];for(var i=0;i<s.length;i++){var t=s[i].innerText.trim();if(s[i].type==='application/json'||t.charAt(0)=='{'||t.charAt(0)=='['){try{j.push({index:i,data:JSON.parse(t)})}catch(e){console.warn('Invalid JSON in script',i)}}}if(!j.length){alert('No JSON found.');return}var modal=document.createElement('div');Object.assign(modal.style,{position:'fixed',top:'50%',left:'50%',transform:'translate(-50%, -50%)',backgroundColor:'#022447',color:'#FFF',padding:'0',border:'2px solid #FFF',borderRadius:'10px',zIndex:'10000',maxWidth:'80%',maxHeight:'80vh',overflowY:'hidden',textAlign:'left',fontFamily:'Arial, sans-serif',display:'flex',flexDirection:'column'});const dragHandle=document.createElement('div');dragHandle.innerHTML='‚úãüèº Click here to move window<div style="font-size:9px;color:#00E6F0;margin-top:4px;">Generated by a bookmarklet from https://tools.myosint.training</div>';Object.assign(dragHandle.style,{background:'#008BC4',color:'#FFF',padding:'8px 20px',borderRadius:'8px 8px 0 0',cursor:'move',textAlign:'center',fontSize:'12px',fontWeight:'600',userSelect:'none',borderBottom:'1px solid #FFF'});const closeBtn=document.createElement('button');closeBtn.innerHTML='√ó';Object.assign(closeBtn.style,{position:'absolute',top:'3px',right:'10px',background:'none',border:'none',color:'#FFF',fontSize:'28px',cursor:'pointer',lineHeight:'1',padding:'0',width:'30px',height:'30px',zIndex:'1'});closeBtn.onmouseover=function(){this.style.opacity='0.7'};closeBtn.onmouseout=function(){this.style.opacity='1'};closeBtn.onclick=function(e){e.stopPropagation();document.body.removeChild(modal);document.onmousemove=null;document.onmouseup=null};dragHandle.appendChild(closeBtn);modal.appendChild(dragHandle);const contentWrapper=document.createElement('div');Object.assign(contentWrapper.style,{padding:'20px',overflowY:'auto',flex:'1'});const title=document.createElement('h2');title.textContent='JSON Scripts Found: '+j.length;Object.assign(title.style,{margin:'0 0 15px 0',color:'#00E6F0',borderBottom:'2px solid #00E6F0',paddingBottom:'10px'});contentWrapper.appendChild(title);var sel=document.createElement('select');Object.assign(sel.style,{width:'100%',padding:'8px',marginBottom:'15px',fontFamily:'Courier New,monospace',fontSize:'12px',background:'#022447',color:'#FFF',border:'1px solid #008BC4',borderRadius:'5px',cursor:'pointer'});j.forEach(function(o,k){var opt=document.createElement('option');opt.value=k;var jsonStr=JSON.stringify(o.data);var byteSize=new Blob([jsonStr]).size;opt.textContent='JSON #'+(k+1)+', script['+o.index+'], '+byteSize+' bytes';sel.appendChild(opt)});contentWrapper.appendChild(sel);var copyBtn=document.createElement('button');copyBtn.textContent='üìã Copy JSON';Object.assign(copyBtn.style,{marginTop:'10px',marginBottom:'15px',padding:'10px 20px',border:'none',background:'#008BC4',color:'#FFF',cursor:'pointer',borderRadius:'6px',fontSize:'14px',fontWeight:'600'});copyBtn.onmouseover=function(){this.style.background='#00E6F0'};copyBtn.onmouseout=function(){this.style.background='#008BC4'};contentWrapper.appendChild(copyBtn);var pre=document.createElement('pre');Object.assign(pre.style,{whiteSpace:'pre-wrap',fontFamily:'Courier New,monospace',fontSize:'11px',background:'#000',color:'#FFF',padding:'15px',borderRadius:'5px',marginTop:'10px',overflowX:'auto',border:'1px solid #008BC4'});pre.textContent=JSON.stringify(j[0].data,null,2);contentWrapper.appendChild(pre);sel.onchange=function(){var o=j[parseInt(this.value)];pre.textContent=JSON.stringify(o.data,null,2)};copyBtn.onclick=function(e){e.stopPropagation();navigator.clipboard.writeText(pre.textContent).then(function(){copyBtn.style.background='#00E6F0';copyBtn.textContent='‚úì Copied!';setTimeout(function(){copyBtn.textContent='üìã Copy JSON';copyBtn.style.background='#008BC4'},1500)}).catch(function(){const textarea=document.createElement('textarea');textarea.value=pre.textContent;textarea.style.position='fixed';textarea.style.opacity='0';document.body.appendChild(textarea);textarea.select();document.execCommand('copy');document.body.removeChild(textarea);copyBtn.style.background='#00E6F0';copyBtn.textContent='‚úì Copied!';setTimeout(function(){copyBtn.textContent='üìã Copy JSON';copyBtn.style.background='#008BC4'},1500)})};modal.appendChild(contentWrapper);var dragInfo={isDragging:false,offsetX:0,offsetY:0};dragHandle.onmousedown=function(e){if(e.target===closeBtn||e.target.parentElement===closeBtn)return;dragInfo.isDragging=true;dragInfo.offsetX=e.clientX-modal.offsetLeft;dragInfo.offsetY=e.clientY-modal.offsetTop;modal.style.transform='none'};document.onmousemove=function(e){if(dragInfo.isDragging){modal.style.left=e.clientX-dragInfo.offsetX+'px';modal.style.top=e.clientY-dragInfo.offsetY+'px'}};document.onmouseup=function(){dragInfo.isDragging=false};document.body.appendChild(modal)}catch(e){alert('Script error: '+e.message);console.error(e)}});

const TM_domainSearch = (function(){var DOMAIN=prompt('Enter DOMAIN- no www: ');var sites=[`https://whoisology.com/${DOMAIN}`,`https://builtwith.com/${DOMAIN}`,`https://dnslytics.com/domain/${DOMAIN}`,`https://host.io/${DOMAIN}`,`https://whois.domaintools.com/${DOMAIN}`,`https://viewdns.info/whois/?domain=${DOMAIN}`,`https://viewdns.info/reverseip/?host=${DOMAIN}&t=1`,`https://viewdns.info/iphistory/?domain=${DOMAIN}`];if(DOMAIN&&DOMAIN.trim()!==``){for(let site of sites){GM_openInTab(site,`_blank`)}}});

const TM_emailSearch = (function(){var EMAIL=prompt('Enter EMAIL: ');let sites=[`https://thatsthem.com/email/${EMAIL}`,`https://www.google.com/search?q='${EMAIL}'`,`https://emailrep.io/query/${EMAIL}`];if(EMAIL&&EMAIL.trim()!==''){for(let site of sites){GM_openInTab(site,'_blank')}}});

const TM_thatsthemDeblur = (function() {document.body.innerHTML = document.body.innerHTML.replace(/class="blur"/g, '');});

const TM_USnames = (function(){var FIRSTNAME=prompt('Enter FIRSTNAME: ');var LASTNAME=prompt('Enter LASTNAME: ');var STATE=prompt('Enter STATE: ');let sites=[`https://www.truepeoplesearch.com/results?name=${FIRSTNAME} ${LASTNAME}&citystatezip=${STATE}`,`https://www.fastpeoplesearch.com/name/${FIRSTNAME}-${LASTNAME}_${STATE}`,`https://www.familytreenow.com/search/genealogy/results?first=${FIRSTNAME}&last=${LASTNAME}&citystatezip=${STATE}`,`https://www.searchpeoplefree.com/find/${FIRSTNAME}-${LASTNAME}/${STATE}`,`https://www.spokeo.com/${FIRSTNAME}-${LASTNAME}/${STATE}`,`https://www.whitepages.com/name/${FIRSTNAME}-${LASTNAME}/${STATE}`,`https://thatsthem.com/name/${FIRSTNAME}-${LASTNAME}/${STATE}`,`https://www.cyberbackgroundchecks.com/people/${FIRSTNAME}-${LASTNAME}/${STATE}`];if(FIRSTNAME&&FIRSTNAME.trim()!==''){for(let site of sites){GM_openInTab(site,`_blank`)}}});

const TM_USStatePhones = (function(){var AREACODE=prompt('Enter 3 DIGIT AREACODE ONLY: ');var PREFIX=prompt('Enter 3 DIGIT PREFIX ONLY: ');var LAST4=prompt('Enter LAST4 ONLY: ');const sites=[`https://www.truepeoplesearch.com/results?phoneno=(${AREACODE})${PREFIX}-${LAST4}`,`https://www.fastpeoplesearch.com/${AREACODE}-${PREFIX}-${LAST4}`,`https://nuwber.com/search/phone?phone=${AREACODE}${PREFIX}${LAST4}`,`https://www.whoseno.com/US/${AREACODE}${PREFIX}${LAST4}`,`https://www.peoplesearchnow.com/phone/${AREACODE}-${PREFIX}-${LAST4}`,`https://www.revealname.com/${AREACODE}-${PREFIX}-${LAST4}`,`https://www.searchpeoplefree.com/phone-lookup/${AREACODE}-${PREFIX}-${LAST4}`,`https://sync.me/search/?number=1${AREACODE}${PREFIX}${LAST4}`,`https://thatsthem.com/phone/${AREACODE}-${PREFIX}-${LAST4}`,`https://www.advancedbackgroundchecks.com/${AREACODE}-${PREFIX}-${LAST4}`,`https://www.usphonebook.com/${AREACODE}-${PREFIX}-${LAST4}`,`https://www.cyberbackgroundchecks.com/phone/${AREACODE}-${PREFIX}-${LAST4}`];if(AREACODE&&AREACODE.trim()!==''){for(let site of sites){GM_openInTab(site,`_blank`)}}});

const TM_wordpress = (async()=>{const showStandbyModal=()=>{let s=document.createElement("div");s.id="wpStandbyModal",s.style.cssText="position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:9998;background:#333;color:#fff;padding:12px 18px;border-radius:8px;font-family:sans-serif;font-size:14px;box-shadow:0 0 10px rgba(0,0,0,0.6);",s.innerText="üîç Checking site... Please standby",document.body.appendChild(s)};const hideStandbyModal=()=>{let s=document.getElementById("wpStandbyModal");s&&s.remove()};const showUserWarningModal=(baseURL)=>{let d=document.createElement("div");d.id="wpUserWarningModal",d.style.cssText="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);z-index:10000;background:#222;color:#fff;padding:20px;border:2px solid #900;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.8);width:360px;font-family:sans-serif;";d.innerHTML=`<div style='font-size:16px;font-weight:bold;margin-bottom:10px;'>‚ö†Ô∏è Warning</div><div style='font-size:14px;margin-bottom:20px;'>Viewing User Accounts may expose your IP address to the site administrators.</div><div style='text-align:right;'><button id='proceedUserAccounts' style='margin-right:10px;background:#4caf50;color:#fff;border:none;padding:6px 10px;border-radius:4px;cursor:pointer;'>Proceed</button><button id='cancelUserAccounts' style='background:#f44336;color:#fff;border:none;padding:6px 10px;border-radius:4px;cursor:pointer;'>Cancel</button></div>`,document.body.appendChild(d);document.getElementById("cancelUserAccounts").onclick=()=>{d.remove()};document.getElementById("proceedUserAccounts").onclick=()=>{window.open(baseURL+"/wp-json/wp/v2/users","_blank");d.remove()}};showStandbyModal();function e(e){const i={pass:"‚úì",fail:"‚úó",na:"‚Ä¢"};const c={pass:"limegreen",fail:"orangered",na:"gray"};return`<li style="margin-bottom:4px;"><span style="color:${c[e.status]};font-weight:bold;">${i[e.status]}</span> ${e.label}</li>`}function t(e,t){try{return e.test(t)}catch(n){return!1}}const n={checks:[],score:0};const o=document.documentElement.innerHTML;n.checks.push({label:"/wp-content/ in HTML",status:t(/\/wp-content\//i,o)?"pass":"fail"});n.checks.push({label:"/wp-includes/ in HTML",status:t(/\/wp-includes\//i,o)?"pass":"fail"});n.checks.push({label:"wp- scripts/styles",status:t(/\bwp-(?:embed|emoji|json|includes)\b/i,o)?"pass":"fail"});const s=document.querySelector('meta[name="generator"]');n.checks.push({label:"meta generator says WordPress",status:s&&/wordpress/i.test(s.content)?"pass":"fail"});const r=Array.from(document.body.classList||[]).filter(c=>/^wp-?/i.test(c)||/^(home|blog|page|archive)$/i.test(c));n.checks.push({label:"Body classes suggest WordPress",status:r.length?"pass":"fail"});const i=(document.cookie||"").split(";").map(e=>e.trim()).filter(e=>/^wordpress_|^wp-|^wp-settings-|^wp_/i.test(e));n.checks.push({label:"Cookies suggest WordPress",status:i.length?"pass":"fail"});async function a(e){try{const t=await fetch(e,{method:"HEAD"});return t.ok?"pass":"fail"}catch(e){return"na"}}async function c(e){try{const t=await fetch(e);return t.ok?"pass":"fail"}catch(e){return"na"}}const l=window.location.origin;n.checks.push({label:"/wp-login.php",status:await a(l+"/wp-login.php")});n.checks.push({label:"/wp-admin/",status:await a(l+"/wp-admin/")});n.checks.push({label:"/wp-json/ (REST API)",status:await c(l+"/wp-json/")});n.checks.push({label:"/xmlrpc.php",status:await a(l+"/xmlrpc.php")});n.checks.push({label:"/readme.html",status:await a(l+"/readme.html")});n.checks.forEach(e=>{"pass"===e.status&&(n.score+=1)});const d=n.score>=7?"LIKELY WordPress":n.score>=4?"POSSIBLY WordPress":"UNLIKELY WordPress";hideStandbyModal();let m=document.createElement("div");m.innerHTML=`<div id="wpDetectModal" style="position:fixed;top:20px;left:50%;transform:translateX(-50%);z-index:9999;background:#222;color:#fff;padding:20px;border:2px solid #555;border-radius:8px;box-shadow:0 0 10px rgba(0,0,0,0.8);width:360px;font-family:sans-serif;"><div style="font-size:18px;margin-bottom:8px;font-weight:bold;">WordPress Detection</div><div style="margin-bottom:10px;"><strong>Verdict:</strong> <span style="color:${"LIKELY WordPress"===d?"limegreen":"POSSIBLY WordPress"===d?"orange":"orangered"}">${d}</span><br><strong>Score:</strong> ${n.score}</div><div><strong>Checks:</strong><ul style="padding-left:18px;margin:0 0 0 10px;font-size:13px;list-style:none;">${n.checks.map(e).join("")}</ul></div><div style="text-align:right;margin-top:10px;"><button id="wpDetectClose" style="background:#444;color:#fff;border:none;padding:6px 10px;border-radius:4px;margin-right:10px;cursor:pointer;">Close</button><button id="wpListUsers" style="background:#21759b;color:#fff;border:none;padding:6px 10px;border-radius:4px;cursor:pointer;">List User Accounts</button></div></div>`;document.body.appendChild(m);document.getElementById("wpDetectClose").onclick=()=>{document.getElementById("wpDetectModal").remove()};document.getElementById("wpListUsers").onclick=()=>{showUserWarningModal(l)};});

const bookmarkletsJSON = [
  {
    title: "BandLab User ID Bookmarklet",
    js: TM_bandlab,
    domain: "bandlab.com",
  },
  {
    title: "Bluesky ID to Profile Bookmarklet",
    js: TM_blueskyIDlookup,
    domain: "bsky.app",
  },
  {
    title: "Bluesky ID Revealer Bookmarklet",
    js: TM_blueskyIDreveal,
    domain: "bsky.app",
  },
  {
    title: "Cash App Profile Bookmarklet",
    js: TM_cashapp,
    domain: "cash.app",
  },
  {
    title: "Facebook User ID Bookmarklet",
    js: TM_facebookID,
    domain: "facebook.com",
  },
  {
    title: "Facebook Marketplace Profile Bookmarklet",
    js: TM_facebookMarket,
    domain: "facebook.com",
  },
  {
    title: "Facebook Locked Profile Image Bookmarklet",
    js: TM_facebookProfileImage,
    domain: "facebook.com",
  },
  {
    title: "Facebook Public Content Search",
    js: TM_facebookSearch,
    domain: "facebook.com",
  },
  {
    title: "Instagram: Display Post Photo",
    js: TM_instagramPhotoDisplay,
    domain: "instagram.com",
  },
  {
    title: "Instagram User ID Bookmarklet",
    js: TM_instagramUserID,
    domain: "instagram.com",
  },
  {
    title: "Instagram Save Single Image Bookmarklet",
    js: TM_instagramSaveSingleImage,
    domain: "instagram.com",
  },
  {
    title: "Pinterest User Bookmarklet",
    js: TM_pinterestUser,
    domain: "pinterest.com",
  },
  {
    title: "Poshmark Date Revealer Bookmarklet",
    js: TM_poshmarkDateRevealer,
    domain: "poshmark.com",
  },
  {
    title: "Poshmark User Bookmarklet",
    js: TM_poshmarkUser,
    domain: "poshmark.com",
  },
  {
    title: "Smule User Bookmarklet",
    js: TM_smuleUser,
    domain: "smule.com",
  },
  {
    title: "Snapchat Story/Spotlight Date Revealer Bookmarklet",
    js: TM_snapchatDateRevealer,
    domain: "snapchat.com",
  },
  {
    title: "Snapchat User ID Bookmarklet",
    js: TM_snapchatUserID,
    domain: "snapchat.com",
  },
  {
    title: "Soundcloud User Bookmarklet",
    js: TM_soundcloudUser,
    domain: "soundcloud.com",
  },
  {
    title: "Telegram Revealer Bookmarklet",
    js: TM_telegramReveal,
    domain: "t.me",
  },
  {
    title: "Threads from Instagram Profile",
    js: TM_threadsFromInstagram,
    domain: "instagram.com",
  },
  {
    title: "Threads User ID Bookmarklet",
    js: TM_threadsUserID,
    domain: "threads.com",
  },
  {
    title: "TikTok Date Revealer Bookmarklet",
    js: TM_tiktokDateRevealer,
    domain: "tiktok.com",
  },
  {
    title: "TikTok User ID Bookmarklet",
    js: TM_tiktokUserID,
    domain: "tiktok.com",
  },
  {
    title: "TikTok URL Date Decoder Bookmarklet",
    js: TM_tiktokURLDecode,
    domain: "tiktok.com",
  },
  {
    title: "Venmo User Bookmarklet",
    js: TM_venmo,
    domain: "venmo.com",
  },
  {
    title: "X User ID Bookmarklet",
    js: TM_xUserID,
    domain: "x.com",
  },
  {
    title: "JSON Revealer Bookmarklet",
    js: TM_JSONreveal,
    domain: "*",
  },
  {
    title: "Domain Search Bookmarklet",
    js: TM_domainSearch,
    domain: "*",
  },
  {
    title: "Email Search Bookmarklet",
    js: TM_emailSearch,
    domain: "*",
  },
  {
    title: "ThatsThem (and Others) Deblurring Bookmarklet",
    js: TM_thatsthemDeblur,
    domain: "*",
  },
  {
    title: "United States Name Bookmarklet",
    js: TM_USnames,
    domain: "*",
  },
  {
    title: "United States Phone Bookmarklet",
    js: TM_USStatePhones,
    domain: "*",
  },
  {
    title: "WordPress Detection & User Enumerator Bookmarklet",
    js: TM_wordpress,
    domain: "*",
  },
];

const currentDomain = window.location.hostname.replace(/^www\./, '');

if (window.top === window.self) {
    bookmarkletsJSON.forEach(item => {
        if (currentDomain.includes(item.domain) || item.domain === '*') {
            console.log(`Initializing worker: ${item.title}`);
            GM_registerMenuCommand(item.title, item.js);
        }
    })
}